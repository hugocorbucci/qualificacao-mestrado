function floss(a){var b=a.options[a.selectedIndex];if(is_contributor(b)&&!exists('contributor'))addAfter(a.parentNode,contributors_questions());else if(!is_contributor(b))remove('contributor');carpeInit();var c=document.getElementById("tools");if(c!=null)dragsort.makeListSortable(c)}function store_sorting(){var a=document.getElementById('tools');if(a!=null){var b=a.getElementsByTagName('li');for(var i=0;i<b.length;i++)store_position(i,b[i])}}function store_position(a,b){var c=document.getElementById('q'+(48+a));var d=b.innerHTML;c.value=d}function validate_filled(a){return function(){validate(a,'Required')}}function validate_radios(){var a=true;for(var i=0,n=arguments.length;i<n;i++)a=validate_radio(arguments[i])&&a;if(!a)errored=true;return a}function validate_radio(a){var b=document.getElementById(a);if(b!=null){var c=b.parentNode;var d=b.previousSibling.previousSibling;var e=c.getElementsByTagName('input');var f=new Array();var g=null;for(i in e)if(e[i].type=='radio')f.push(e[i]);else if(e[i].type=='text')g=e[i];var h=false;var j=null;for(var k=0;k<f.length;k++)if(f[k].checked==true)j=f[k];if(j!=null&&j.value!="Other")correct(d,true);else if(j!=null&&j.value=="Other"&&g.value=="")error(g,'text',"This field is required.");else if(j==null)error(d,'radio',"At least one option must be chosen");return j!=null&&(j.value!="Other"||g.value!="")}return true}function error(a,b,c){correct(a);if(!checkForErrorDiv(a)){div=document.createElement("div");div.innerHTML=(c)?c:getMsg(b);div.className="Errortext";a.parentNode.appendChild(div)}if(a.className!="error")exClassName[a.name]=a.className;if(a.type!="checkbox"&&a.type!="radio")a.className="error";return true}function checkForErrorDiv(a){for(var b=0;b<a.parentNode.childNodes.length;b++)if(a.parentNode.childNodes[b].className=="Errortext")return true;return false}function correct(a){var b=a.parentNode;for(x=0;x<b.childNodes.length;x++){var c=b.childNodes[x];if(c){if(c.className=="Errortext")c.parentNode.removeChild(c);if(c.className=="error")c.className=exClassName[c.name]}}}function is_contributor(a){return a.value!=""&&a.value!="0"}function exists(a){return document.getElementById(a)!=null}function addAfter(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function get_selected_option(a){var b=document.getElementById(a);return b.options[b.selectedIndex]}function remove(a){var b=document.getElementById(a);if(b!=null)b.parentNode.removeChild(b)}function generate_array(a,b,c){if(c==null)c=1;var d=new Array();var e=Math.min(a,b);var f=Math.max(a,b);for(var i=e;i<=f;i++)d.push(i);if(e==b)return d.reverse();return d}function create_option(a){var b=document.createElement('option');b.innerHTML=a;b.value=a;return b}function generate_options(a){var b=new Array();for(i in a)b.push(create_option(a[i]));return b}function create_label(a,b){var c=document.createElement('label');c.htmlFor=a;c.innerHTML=b;return c}function create_select(a,b){var c=document.createElement('select');c.id=a;c.onblur=validate_filled(c);for(i in b)c.options[i]=b[i];return c}function create_text(a,b,c){var d=document.createElement('input');d.type='text';d.name=b;if(c!=null)d.maxLength=c;d.id=a;return d}function create_radio_span(c,d,e,f,g,h){var i=document.createElement('span');i.id='q'+c;if(h==null)h=1;var j='q'+(c+h);var k=null;if(g!=null)k=g(m);var l=function(b){return function(){if(k!=null)k();var a=document.getElementById(j);if(a==null)return;a.disabled=(b!="Other");if(a.disabled){a.value="";correct(a)}else a.focus();correct(i)}};for(var m=0;m<e.length;m++){var n=create_simple_radio('q'+c,m,d,e[m],l(e[m]));add_with_label(i,n);i.appendChild(document.createTextNode(' '));if(n.value=="Other"){var o=create_text(j,f);o.disabled=true;o.onblur=function(){if(!o.disabled)validate_filled(o)()};i.appendChild(o)}i.appendChild(document.createElement('br'))}return i}function create_checkbox_span(a,b,c){var d=document.createElement('span');d.id='q'+a;for(var e=0;e<c.length;e++){add_with_label(d,create_simple_checkbox(a,e,b,c[e]));d.appendChild(document.createElement('br'))}return d}function create_simple_checkbox(a,b,c,d,e){return create_simple_input('checkbox',a,b,c,d,e)}function create_simple_input(a,b,c,d,e,f){var g=document.createElement('input');g.name=d;g.id=b+'_'+c;g.type=a;g.value=e;if(f!=null)g.onclick=f;return g}function create_simple_radio(a,b,c,d,e){return create_simple_input('radio',a,b,c,d,e)}function add_with_label(a,b){a.appendChild(b);a.appendChild(document.createTextNode(' '));a.appendChild(create_label(b.id,b.value))}function create_yes_no_radio(a,b,c,d){var e=document.createElement('span');e.id=a;var f=create_simple_radio(a,0,b,"Yes",c);add_with_label(e,f);e.appendChild(document.createTextNode(' '));var g=create_simple_radio(a,1,b,"No",d);add_with_label(e,g);e.appendChild(document.createElement('br'));return e}function create_slider(a,b,c,d){var e=document.createElement('span');var f=document.createElement('input');f.type='hidden';f.id=a;f.name=b;f.value=0;e.appendChild(f);var g=document.createElement('table');g.cols=3;var h=document.createElement('tr');var i=document.createElement('td');i.className="slider_left_label";i.appendChild(document.createTextNode(c));var j=document.createElement('td');j.className="carpe_horizontal_slider_track";var k=document.createElement('div');k.className="carpe_slider_slit";j.appendChild(k);var l=document.createElement('div');l.id='slider_'+a;l.className='carpe_slider';l.display=a;j.appendChild(l);var m=document.createElement('td');m.className="slider_right_label";m.appendChild(document.createTextNode(d));h.appendChild(i);h.appendChild(j);h.appendChild(m);g.appendChild(h);e.appendChild(g);return e}function contributors_questions(){var a=document.createElement('span');a.id='contributor';a.appendChild(create_q16());a.appendChild(create_q17());a.appendChild(create_q18());a.appendChild(create_q19());a.appendChild(create_q21());a.appendChild(create_q24());a.appendChild(create_q34());a.appendChild(create_q29());a.appendChild(create_q36());a.appendChild(create_q37());a.appendChild(create_q38());return a}function get_birth_year(a){var b=get_selected_option('q12').value;if(b=="")return a;return parseInt(b)}function create_q16(){var a=document.createElement('li');var b=create_label('q16','In which year was your first FLOSS contribution?');var c=new Array('').concat(generate_array(2009,get_birth_year(1955)+5));var d=generate_options(c);var e=create_select('q16',d);e.name='q16_411stFLOSScontributi';a.appendChild(b);a.appendChild(document.createTextNode(' '));a.appendChild(e);return a}function create_q17(){var a=document.createElement('li');var b=create_label('q17','What is the name of the main FLOSS project you contribute with?');var c=create_text('q17','q17_42Mainprojectname',100);c.onblur=validate_filled(c);a.appendChild(b);a.appendChild(document.createTextNode(' '));a.appendChild(c);return a}function create_q18(){var a=document.createElement('li');var b=create_label('q18','In which year was your first contribution to that project?');var c=new Array('').concat(generate_array(2009,get_birth_year(1955)+5));var d=generate_options(c);var e=create_select('q18',d);e.name='q18_431stcontributiontop';a.appendChild(b);a.appendChild(document.createTextNode(' '));a.appendChild(e);return a}function create_q19(){var a=document.createElement('li');var b=create_label('q19','What is your main role in that project?<br/>');a.appendChild(b);a.appendChild(document.createTextNode(' '));var c=['Maintainer','Commiter','Programmer','Tester','Documentation writer','Bug reporter/Feature requester','User','Other'];a.appendChild(create_radio_span(19,'q19_44Mainroleinproject',c,'q20_441IfOtherwhatrole'));return a}function create_q21(){var c=document.createElement('li');var d=create_label('q21','Do you receive any income from your FLOSS contributions?');c.appendChild(d);c.appendChild(document.createTextNode(' '));var e=function(){var a=document.getElementById('q21');remove('q23_list');if(!exists('q22')){var b=create_q22();addAfter(a,b)}};var f=function(){var a=document.getElementById('q21');remove('q22_list');if(!exists('q23')){var b=create_q23();addAfter(a,b)}};c.appendChild(create_yes_no_radio('q21','q21_5IncomefromFLOSS',e,f));return c}function create_q22(){var c=document.createElement('ol');c.className="no_numbers";c.id='q22_list';var d=document.createElement('li');var e=create_label('q22','Is this your main income?');d.appendChild(e);d.appendChild(document.createTextNode(' '));var f=function(){remove('q23_list')};var g=function(){var a=document.getElementById('q22');if(!exists('q23')){var b=create_q23();addAfter(a,b)}};d.appendChild(create_yes_no_radio('q22','q22_51Mainincome',f,g));c.appendChild(d);return c}function create_q23(){var a=document.createElement('ol');a.className="no_numbers";a.id='q23_list';var b=document.createElement('li');var c=create_label('q23','Is your main income related to IT?');b.appendChild(c);b.appendChild(document.createTextNode(' '));b.appendChild(create_yes_no_radio('q23','q23_52Mainincomerelatedt'));a.appendChild(b);return a}function create_q24(){var d=document.createElement('li');var e=create_label('q24','How many people work with you on your main FLOSS project?<br/>');d.appendChild(e);d.appendChild(document.createTextNode(' '));var f=['0','1 to 5','6 to 10','11 to 50','more than 50'];var g=function(c){if(c==0)return function(){remove('list_q30');remove('list_q28')};else return function(){var a=d;if(!exists('list_q30')){var b=create_q30();addAfter(a,b);a=b}if(!exists('list_q28')){var b=create_q28();addAfter(a,b);a=b}if(a!=d)carpeInit()}};d.appendChild(create_radio_span(24,'q24_6Peopleworkingwithyo',f,g));return d}function get_communication_channels(){return['Face to face','Website','Mailing List','Issue tracker (Trac, Bugzilla, etc.)','Internet Relay Chat (IRC)','Instant Message (Jabber, MSN, ICQ, etc.)','Email','VoIP (Skype, Ekiga, iChat, etc.)','None','Other']}function create_q30(){var a=document.createElement('li');a.id='list_q30';var b=create_label('q30','What is your main communication channel with your team of that FLOSS project?<br/>');a.appendChild(b);a.appendChild(document.createTextNode(' '));var c=get_communication_channels();a.appendChild(create_radio_span(30,'q30_9Maincommunicationch',c,'q32_71IfOtherwhatchannel',null,2));return a}function create_q28(){var a=document.createElement('li');a.id='list_q28';var b=create_label('q28','How would you evaluate the quality of your communication with that team?<br/>');a.appendChild(b);var c=create_slider('q28','q28_8Qualityofcommunicat','Extremely poor','Perfect');a.appendChild(c);return a}function create_q34(){var a=document.createElement('li');var b=create_label('q34','What is your main communication channel with the users of that FLOSS project?<br/>');a.appendChild(b);a.appendChild(document.createTextNode(' '));var c=get_communication_channels();a.appendChild(create_radio_span(34,'q34_9Maincommunicationch',c,'q35_10IfOtherwhatchannel'));return a}function create_q29(){var a=document.createElement('li');var b=create_label('q29','How would you evaluate the quality of your communication with the users?<br/>');a.appendChild(b);var c=create_slider('q29','q29_11Qualityofcommunica','Extremely poor','Perfect');a.appendChild(c);return a}function create_q36(){var a=document.createElement('li');var b=create_label('q36','How much effort do you spend to keep the project\'s informations updated?<br/>');a.appendChild(b);var c=create_slider('q36','q36_12Efforttokeepinfoup','Very little','Huge');a.appendChild(c);return a}function get_tools(){return['Automatic email/message on build failure','Dynamic roadmap status from Issue Tracking System','Issue tracking management from repository commit logs','Website one-click release build from repository','Automatic metric graphic generation and updating from repository','Collaborative issue priority sorting','Timeline on website that allows notes/comments to facilitate retrospective analysis','A robot on your communication channel to keep log of the last events']}function create_q37(){var a=document.createElement('li');var b=create_label('q37','Which of the following tools do your project already uses?<br/>');a.appendChild(b);a.appendChild(document.createTextNode(' '));var c=get_tools();a.appendChild(create_checkbox_span('q37','q37_13Whichofthoseyourpr[]',c));return a}function create_q38(){var a=document.createElement('li');var b=create_label('q38','Sort the tools from the most usefull (first) to the less usefull (last).<br/>Drag and drop the items to sort them.<br/>');a.appendChild(b);a.appendChild(document.createTextNode(' '));var c=get_tools();var d=document.createElement('ol');d.id='tools';for(var i=0;i<c.length;i++){var e=document.createElement('li');e.appendChild(document.createTextNode(c[i]));var f=document.createElement('input');f.type='hidden';f.id='q'+(48+i);f.name='q'+(48+i)+'_14'+i+'Whatisthenumber'+(i+1)+'t';f.value=c[i];a.appendChild(f);d.appendChild(e)}a.appendChild(d);return a}